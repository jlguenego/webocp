<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Web OCP</title>

		<!-- JQUERY CDN -->
		<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
		<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.min.js"></script>
		<!-- END JQUERY CDN -->

		<!-- BLOB BUILDER -->
		<script src="../_ext/BlobBuilder.min.js"></script>
		<!-- END BLOB BUILDER -->

		<!-- FILE SAVER -->
		<script src="../_ext/FileSaver.min.js"></script>
		<!-- END FILE SAVER -->

		<script src="../js/ocp-client.js"></script>
		<style>
			#drop_zone {
				font-size: 30px;
				text-align: center;
				width: 100%;
				height: 400px;
				border: 1px solid black;
			}
		</style>
	</head>
	<body>
		<div id="drop_zone">Drop files here</div>
		<output id="list"></output>

		<script>
			function handleFileSelect(evt) {
				evt.stopPropagation();
				evt.preventDefault();

				var files = evt.dataTransfer.files; // FileList object.

				// files is a FileList of File objects. List some properties.
				var output = [];
				for (var i = 0, f; f = files[i]; i++) {
					output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
						f.size, ' bytes, last modified: ',
						f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
						'</li>'
					);
				}
				$('#list').html('<ul>' + output.join('') + '</ul>');
			}

			function handleDragOver(evt) {
				evt.stopPropagation();
				evt.preventDefault();
				evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
			}

			// Setup the dnd listeners.
			var dropZone = document.getElementById('drop_zone');
			dropZone.addEventListener('dragover', handleDragOver, false);
			dropZone.addEventListener('drop', handleFileSelect, false);
		</script>
	</body>
</html>